let H=document.querySelector("header"),u=document.querySelector(".BtnLang"),P=document.getElementById("dropDownLang"),U=document.querySelectorAll("#dropDownLang li"),v=document.getElementById("openMenu"),p=document.getElementById("btnCloseMenu"),w=document.getElementById("responsiveNavLinks"),k=document.getElementById("overlay"),x=document.getElementById("CartShop"),h=document.getElementById("openCart"),L=document.getElementById("closeCart"),f=document.getElementById("navSearchForm"),r=document.getElementById("openNavSearch"),d=document.getElementById("closeNavSearch"),q=document.querySelectorAll(".accordionItem button"),y=document.getElementById("openFilter"),E=document.getElementById("closeFilter"),B=document.getElementById("accordionResponsive"),C=document.getElementById("userPhoto"),I=document.getElementById("uploadUserPhoto");function S(e){let t=0;return e.forEach(n=>{t+=n.clientHeight}),t}const m=(e,t,n)=>{let o=e==="down"?0:S(t),i=e==="down"?S(t):0,c=e==="down"?i/(i*.1):o/(o*.1);function s(){if(o<=0&&e==="up"||o>=i&&e==="down"){e==="up"&&(n.style.height="0");return}o+=e==="down"?c:-c,o>i&&e==="down"&&(o=i),n.style.height=`${o}px`,requestAnimationFrame(s)}requestAnimationFrame(s)},l=(e,t,n)=>{if(!e)return console.log("no element");t.forEach(o=>{n==="add"?o&&e.classList.add(o):n==="remove"?o&&e.classList.remove(o):n==="toggle"&&o&&e.classList.toggle(o)})},g=(e,t)=>{e?.setAttribute("aria-expanded",t.toString())},$=(e,t,n)=>{e=="open"?(n&&l(n,["open"],"add"),n&&t&&m("down",t,n)):(n&&t&&m("up",t,n),setTimeout(()=>{n&&l(n,["open"],"remove")},100))},a=(e,t,n,o,i,c,s,A)=>{!t||!i||!c||(e==="open"?(l(t,[o],"remove"),n&&l(t,[n],"add"),g(i,!0),g(c,!0),s&&l(k,["active"],"add"),A&&t.querySelectorAll("li .navLink").forEach((M,N)=>{M.style.setProperty("--i",`${N+1}`)}),requestAnimationFrame(()=>{l(t,["open"],"add")})):(l(t,["open"],"remove"),g(i,!1),g(c,!1),s&&l(k,["active"],"remove"),setTimeout(()=>{l(t,[o],"add"),n&&l(t,[n],"remove")},500)))},T=()=>{if(!u)return;l(u,["open"],"toggle");let e=u.classList.contains("open");$(e?"open":"close",U,P),g(u,e)},F=e=>{if(e=="open"){l(d,["d-none"],"remove"),l(r,["showIcon"],"remove"),l(r,["hideIcon"],"add"),a("open",f,null,"d-none",r,d,!1,!1);let t=H.clientHeight;f.style.top=`${t}px`,requestAnimationFrame(()=>{l(d,["hideIcon"],"remove"),l(d,["showIcon"],"add"),l(r,["d-none"],"add")})}else l(r,["d-none"],"remove"),l(d,["showIcon"],"remove"),l(d,["hideIcon"],"add"),a("close",f,null,"d-none",r,d,!1,!1),f.style.top="-80px",requestAnimationFrame(()=>{l(r,["hideIcon"],"remove"),l(r,["showIcon"],"add"),l(d,["d-none"],"add")})},O=()=>{q.forEach(e=>{let t=e.nextElementSibling,n=Array.from(t.children);if(t&&n)if(e.classList.contains("active")){let o=S(n);t.style.height=`${o}px`,m("down",n,t)}else m("up",n,t);e.addEventListener("click",()=>{q.forEach(c=>{if(c!==e&&c.classList.contains("active")){c.classList.remove("active");let s=c.nextElementSibling,A=Array.from(s.children);s&&m("up",A,s)}}),e.classList.toggle("active");let o=e.nextElementSibling,i=Array.from(o.children);o&&i&&(e.classList.contains("active")?m("down",i,o):m("up",i,o))})})},R=()=>{I&&C&&I.files?.[0]&&(C.src=URL.createObjectURL(I.files[0]))};v&&v.addEventListener("click",()=>a("open",w,"responsiveNavLinks","lg-max-d-none",v,p,!0,!0));p&&p.addEventListener("click",()=>a("close",w,"responsiveNavLinks","lg-max-d-none",v,p,!0,!0));u&&u.addEventListener("click",T);h&&h.addEventListener("click",()=>a("open",x,null,"d-none",h,L,!0,!1));L&&L.addEventListener("click",()=>a("close",x,null,"d-none",h,L,!0,!1));y&&y.addEventListener("click",()=>a("open",B,"responsive-accordion","lg-max-d-none",y,E,!0,!1));E&&E.addEventListener("click",()=>a("close",B,"responsive-accordion","lg-max-d-none",y,E,!0,!1));r&&r.addEventListener("click",()=>F("open"));d&&d.addEventListener("click",()=>F("close"));I&&I.addEventListener("change",R);window.addEventListener("click",e=>{const t=e.target;k&&k.contains(t)&&(a("close",w,"responsiveNavLinks","lg-max-d-none",v,p,!0,!0),a("close",x,null,"d-none",h,L,!0,!1),a("close",B,"responsive-accordion","lg-max-d-none",y,E,!0,!1)),!r.contains(t)&&!f.contains(t)&&F("close")});window.addEventListener("DOMContentLoaded",O);
